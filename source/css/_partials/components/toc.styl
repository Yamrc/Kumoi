.widget-toc
	h3
		position: relative
		.toc-percentage
			float: right
			margin-top: -2px
			color: var(--color-muted)
			font-style: italic
			font-size: 1.4em
			font-weight: normal

.toc-list
	margin: 0
	padding: 0
	list-style: none
	font-size: var(--text-s)
	> ol
		padding: 0 !important
	ol
		margin: 0
		padding-left: 18px
		list-style: none
	li.toc-item
		margin: 4px 0
		> .toc-child
			margin-left: 10px
			padding-left: 10px
			border-left: 1px solid var(--color-border)
		a
			display: block
			padding: 4px 8px
			color: var(--color-text)
			text-decoration: none
			border-radius: var(--radius-s)
			transition: all 0.2s ease-in-out
			&:hover
				color: var(--color-primary)
			&.active
				background: var(--color-primary)
				color: #fff

#sidebar-toc
	display: none
	.toc-item.has-children > .toc-child
		display: none
	.toc-item.has-children.expanded > .toc-child
		display: block

#toc-mobile
	display: none
	position: fixed
	inset: 0
	z-index: 1050
	&.open
		display: block
	.toc-mobile-backdrop
		position: absolute
		inset: 0
		background: rgba(0, 0, 0, 0.45)
	.toc-mobile-dialog
		position: relative
		margin: 10vh auto
		max-width: min(90vw, 360px)
		background: var(--color-surface)
		border-radius: var(--radius-m)
		box-shadow: var(--shadow-2)
		display: flex
		flex-direction: column
		overflow: hidden
	.toc-mobile-header
		display: flex
		align-items: center
		justify-content: space-between
		padding: 12px 16px
		border-bottom: 1px solid var(--color-border)
		font-weight: 600
	.toc-mobile-close
		background: none
		border: none
		color: inherit
		cursor: pointer
		font-size: 1.1em
		padding: 4px
		i { pointer-events: none }
	#toc-mobile-nav
		max-height: 70vh
		overflow: auto
		padding: 12px 0

body.toc-mobile-open
	overflow: hidden

@media (max-width: 1024px)
	#sidebar-toc
		display: none !important

@media (min-width: 1025px)
	#toc-mobile
		display: none !important
		&.open
			display: none !important
